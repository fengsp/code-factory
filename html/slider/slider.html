<!DOCTYPE HTML>
<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<head>
<style type="text/css">
#slider {
    margin: 10% 30px 30px;
	position: relative;
	background-color: #f5f5f5;
}
.frame {
    width: 100%;
	transition:opacity 0.6s ease-in;
	-webkit-transition:opaticy 0.6s ease-in;
	text-align: center;
	box-sizing: border-box;
	-webkit-sizing: border-box;
	display: block;
}
#sliderLink {
	display: block;
}
</style>
<script type="text/javascript">
var frames = [{'url':'img/frame1.jpg', 'delay': 3000, 'link':'http://www.sinaimg.cn/blog/qing/image/zhuanti/1080/meinv2.jpg'},
			  {'url':'img/frame2.jpg', 'delay': 3000, 'link':'http://www.sinaimg.cn/blog/qing/image/zhuanti/1080/aiqing3.jpg'},
			  {'url':'img/frame3.jpg', 'delay': 5000, 'link':'http://www.sinaimg.cn/blog/qing/image/zhuanti/1080/shenghuo.jpg'},
			  {'url':'img/frame4.jpg', 'delay': 5000, 'link':'http://www.sinaimg.cn/blog/qing/image/zhuanti/1080/mingxing2.jpg'},
			  {'url': undefined, 'delay': 3000, 'link':'http://ezine.oupeng.com', 'memo':'fsptest'}
			 ];
function $(id) { return document.getElementById(id); }
var Slider = (function(){
	var current = 0;
	var currentFrame, last, lastFrame;
	function sliderFrame(last) {
		currentFrame = 'frame' + current;
		if (last != undefined) {
			lastFrame = 'frame' + last;
			$(lastFrame).style.opacity = 0;
		}
		$(currentFrame).style.opacity = 1;
		$('sliderLink').setAttribute('href', frames[current]['link']);
		last = current;
		setTimeout(function(){sliderFrame(last);}, frames[current]['delay']);
		if(current++ == frames.length-1) { current = 0; }
	}
	
	return {'init': function () {
			var sliderLink = $('sliderLink');
			var imgElem;
			for(var i=0,e;i<frames.length;i++) {
				e = frames[i];
				if (e['url'] != undefined) {
					imgElem = document.createElement('img');
					imgElem.src = e['url'];
				} else {
					imgElem = document.createElement('div');
					imgElem.innerText = e['memo'];
					imgElem.style.padding = '0.4em 0.6em';
				}
				imgElem.id = 'frame' + i;
				imgElem.className = 'frame';
				imgElem.style.opacity = 0;
				if (i != 0) {
					imgElem.style.position = 'absolute';
					imgElem.style.left = 0;
					imgElem.style.top = 0;
				}
				sliderLink.appendChild(imgElem);
			}
			sliderFrame();
		}
		};
})();


window.addEventListener('DOMContentLoaded', function(){
	Slider.init();
}, false);
</script>
</head>
<body>
<!-- 汉语测试 -->

<div id="slider">
<a id="sliderLink" target="_blank"></a>
</div>
</body>
</html>
